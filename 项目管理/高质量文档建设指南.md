本文档提供高质量文档建设的指引，包含文档建设思路和最佳实践。

## 痛点

没有文档去学习一个系统是非常痛苦的，陈年失修的业务，日常答疑，问题排查，有些功能连系统owner都不了解。

业务文档的价值是非常大的，文档远不只是业务流程说明那么简单，应该是一整套的打包方案，包括文档、工具、问题排查工具等。

对于代码自解释，无需文档的想法，在下面的案例前提下，既不适用，所以文档是必须还要建设的。

1. 代码不能自解释
2. 文档面向的群体不只是程序员
3. 代码量大，需要宏观性的学习
4. 有些逻辑不在你的代码仓库中

团队在日常开发中遇到的几个问题:

1. 答疑占用时间久，每周都需要有专职人员答疑，并且没有人喜欢这个工作。
2. 业务发展快，答疑沟通成本高，我们组两个核心系统+若干关联子系统，N多业务线和前台功能，答疑会倾向找熟悉某块业务的人去咨询如何排查&解决xx问题。
3. 基本的文档缺失，别人想要接入系统、调用某个功能，了解xx业务，基本都没有文档，都需要人肉讲解。
4. 在上一条中提到的东西，我想会有人谴责不写文档，然而文档实际非常多，多到你不想看的程度，文档只有简单的目录分类，看似有条有理，实则是用的找不到，找的用不到，非常尴尬。
5. 很多问题排查流程复杂，需要链路上逐条确认并且读代码。
6. 文档更新不及时。
7. 历史文档分散，baike/wiki/语雀三大阵营均有残留。



## 文档目标

文档是给特定人群，使其了解和掌握所需内容的知识库。

不同人以不同的身份看文档的要求是不一样的，认识到这一点非常重要。

### 文档入口诉求

一个熟悉系统的维护者，想要找某个业务关联的资料，这个时候凭借某个关键词对系统进行索引就可以找到他想要的东西，这个时候搜索优于目录。

一个想要了解某个业务的人，想要找某个业务关联的资料，也可能更需要搜索一样的功能，例如"如何接入评价的notify消息"。

一个对业务完全不了的人，想要学习某个业务，这种情况可能更适合引导他，告诉他先看什么东西，这种时候引导优于目录&搜索。

一个对系统一知半解的人，了解了X系统的A处罚业务之后，想了解和他有关的业务，比如BCD处罚业务，这种时候目录的作用最大，因为子目录的上下文章关系多半是相互关联的。

还有一些特殊的情况，比如想要了解星环、TMF就会去ATA搜毗卢，这种是某个特征关键词成为了某个领域的关键词，不在文档系统中讨论。

结论上看，`搜索`、`引导`、`目录`，都是有价值的，对不同的人有不同的价值，一个好的文档系统应该兼顾这些场景。

### 文档受众诉求

不同的人对文档的内容要求也是不同的，这很好理解:
1.  业务内部程序员需要代码的实现和逻辑的讲解
2. 业务外部程序员需要代码的接口和快捷的接入文档，以及异常情况的处理
3. 产品经理需要文档的设计文档，更关心业务本身
4. 测试关心场景的覆盖，上下游的链路关系
5. 客服关心前台的使用逻辑以及对客户的口径
6. 运维人员关心的是系统监控，问题排查的roadmap等

这是一种基本的分类诉求，同样一块业务不同人的要求是不同的，那么同样的业务，文档应该是打散还是统一？这种问题不止文档上会有，代码设计上也是争论不休，组件化还是MV*亦或是其他，组件内聚自治还是统一管理相似作用的代码，各有好处。
好的文档和好的代码应该是相似的，如果代码是可以自解释的，那么文档应该也是可以自解释的，可以把一个文档丢给别人，无需讲解便可以看懂。
至于文档应该如何分类的问题上，我的看法是:

**可以接受一定程度上的冗余，但是一定要让不同身份的人快速找到自己想看的内容**

在具体的分类上，包括不限于
1. 产品文档
2. 内部开发文档(特殊的细节逻辑、工具的使用汇总)
3. 外部开发文档(接口文档、接口说明、接口要求与现有方案的简单说明)
4. 具体业务文档(围绕某个特定业务内聚的文档，可能涵盖产品、开发内容，像是一个组件)
5. 疑难问题文档(答疑人员关心的内容)

## 文档层次



## 建设工具

工具上，confluence也好，语雀也好，这些文档功能关注的点重点是文档工具功能的丰富性，富文本排版、修改、留言等等，JIRA或者各种需求管理平台，这些工具关注的点是变更的追踪与需求的生命周期管理，这些东西的讨论层面永远是好不好用，因为他们只是工具，工具的强大在于有效的使用，即使是银弹，也需要一把枪来发射。

文档解决的问题总归还是宏观向的问题，在实际的问题分析中，会有大量的具体问题需要具体分析
想要简化这些问题，那么不免需要编写各种后台问题排查工具，这种工具我也分了几类
1. 诊断类工具，输入特定的元信息，诊断常见的问题
2. 查询类工具，输入特定的元信息，查出关联信息
3. 问题复现类工具，和诊断工具相似，但有时只想复现前台的展现效果
除此之外，还有一点对工具的要求是，可拓展，易使用，开发工具与工具的平台一定要足够好用，方便接入，才能激发开发去用去写。
如果一个工具需要前后端到数据库全都申请搭建一遍，我想没有人愿意去写，因为成本太高了，实际收益有限，手动操作完全在容忍范围内，那么就不会去写工具。

## 文档维护

